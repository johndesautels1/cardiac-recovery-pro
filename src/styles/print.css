/* ============================================================================
   PRINT-FRIENDLY REPORT STYLES
   ============================================================================
   Optimizes patient reports for printing by PTs and clinics
   Last Updated: Oct 20, 2025
   ============================================================================ */

@media print {
    /* ========================================================================
       PAGE SETUP
       ======================================================================== */

    @page {
        size: letter portrait;
        margin: 0.5in;
    }

    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        color-adjust: exact !important;
    }

    body {
        background: white !important;
        color: black !important;
        font-size: 11pt !important;
        line-height: 1.4 !important;
    }

    /* ========================================================================
       HIDE UI ELEMENTS NOT NEEDED IN PRINT
       ======================================================================== */

    .tabs,
    .tab-button,
    .bottom-nav,
    button,
    .btn,
    .btn-good,
    .btn-danger,
    .nav-btn,
    input[type="date"],
    input[type="text"],
    input[type="number"],
    textarea,
    select,
    .theme-toggle,
    .clear-button,
    .export-button,
    .edit-button,
    video,
    iframe,
    .video-card,
    .swipe-hint,
    .notification,
    .alert,
    .modal-overlay,
    #gpsTracker,
    #symptomsLogger,
    #emergencyAlerts,
    .validation-error {
        display: none !important;
    }

    /* ========================================================================
       SHOW ONLY ACTIVE TAB CONTENT
       ======================================================================== */

    .tab-content {
        display: none !important;
    }

    .tab-content.active {
        display: block !important;
    }

    /* ========================================================================
       HEADER & PATIENT INFO
       ======================================================================== */

    .header {
        background: white !important;
        border-bottom: 2px solid #333 !important;
        padding: 10pt 0 !important;
        margin-bottom: 15pt !important;
    }

    .header h1 {
        color: #333 !important;
        font-size: 18pt !important;
        margin: 0 !important;
    }

    .patient-info,
    .profile-card {
        background: white !important;
        border: 1px solid #333 !important;
        padding: 10pt !important;
        margin-bottom: 15pt !important;
        page-break-inside: avoid !important;
    }

    .patient-info h3,
    .profile-card h3 {
        color: #333 !important;
        font-size: 12pt !important;
        font-weight: bold !important;
        margin-top: 0 !important;
        border-bottom: 1px solid #666 !important;
        padding-bottom: 5pt !important;
    }

    /* ========================================================================
       CARDS & CONTAINERS
       ======================================================================== */

    .card,
    .metrics-card,
    .stat-card {
        background: white !important;
        border: 1px solid #ddd !important;
        padding: 10pt !important;
        margin-bottom: 10pt !important;
        page-break-inside: avoid !important;
        box-shadow: none !important;
    }

    .card h3,
    .metrics-card h3 {
        color: #333 !important;
        font-size: 11pt !important;
        font-weight: bold !important;
        margin: 0 0 8pt 0 !important;
    }

    /* ========================================================================
       CHARTS
       ======================================================================== */

    canvas {
        max-width: 100% !important;
        height: auto !important;
        page-break-inside: avoid !important;
        margin: 10pt 0 !important;
    }

    .chart-container {
        background: white !important;
        border: 1px solid #ddd !important;
        padding: 10pt !important;
        margin-bottom: 15pt !important;
        page-break-inside: avoid !important;
    }

    /* ========================================================================
       TABLES
       ======================================================================== */

    table {
        width: 100% !important;
        border-collapse: collapse !important;
        margin: 10pt 0 !important;
        page-break-inside: auto !important;
        font-size: 9pt !important;
    }

    thead {
        display: table-header-group !important;
        background: #f0f0f0 !important;
    }

    th {
        background: #f0f0f0 !important;
        color: #333 !important;
        font-weight: bold !important;
        padding: 6pt !important;
        border: 1px solid #666 !important;
        text-align: left !important;
    }

    td {
        padding: 6pt !important;
        border: 1px solid #ddd !important;
        color: #333 !important;
    }

    tr {
        page-break-inside: avoid !important;
    }

    tbody tr:nth-child(even) {
        background: #fafafa !important;
    }

    /* ========================================================================
       STATISTICS & METRICS
       ======================================================================== */

    .stat-grid,
    .metrics-grid {
        display: grid !important;
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 10pt !important;
        margin: 10pt 0 !important;
        page-break-inside: avoid !important;
    }

    .stat-item,
    .metric-item {
        background: white !important;
        border: 1px solid #ddd !important;
        padding: 8pt !important;
        text-align: center !important;
    }

    .stat-value,
    .metric-value {
        font-size: 14pt !important;
        font-weight: bold !important;
        color: #333 !important;
        display: block !important;
        margin: 5pt 0 !important;
    }

    .stat-label,
    .metric-label {
        font-size: 9pt !important;
        color: #666 !important;
        display: block !important;
    }

    /* ========================================================================
       RECOVERY INFORMATION
       ======================================================================== */

    .recovery-info {
        background: #f9f9f9 !important;
        border: 2px solid #333 !important;
        padding: 10pt !important;
        margin: 15pt 0 !important;
        page-break-inside: avoid !important;
    }

    .recovery-day {
        font-size: 16pt !important;
        font-weight: bold !important;
        color: #333 !important;
    }

    /* ========================================================================
       MILESTONES & ACHIEVEMENTS
       ======================================================================== */

    .milestone,
    .achievement {
        background: white !important;
        border-left: 3px solid #333 !important;
        padding: 8pt !important;
        margin: 8pt 0 !important;
        page-break-inside: avoid !important;
    }

    /* ========================================================================
       SESSION DETAILS
       ======================================================================== */

    .session-card {
        background: white !important;
        border: 1px solid #ddd !important;
        padding: 10pt !important;
        margin-bottom: 10pt !important;
        page-break-inside: avoid !important;
    }

    .session-header {
        border-bottom: 1px solid #ddd !important;
        padding-bottom: 5pt !important;
        margin-bottom: 8pt !important;
    }

    /* ========================================================================
       PAGE BREAKS
       ======================================================================== */

    .page-break-before {
        page-break-before: always !important;
    }

    .page-break-after {
        page-break-after: always !important;
    }

    .page-break-avoid {
        page-break-inside: avoid !important;
    }

    /* Section headers should stay with content */
    h2, h3, h4 {
        page-break-after: avoid !important;
        page-break-inside: avoid !important;
    }

    /* ========================================================================
       PRINT HEADER & FOOTER
       ======================================================================== */

    .print-header {
        display: block !important;
        text-align: center !important;
        margin-bottom: 15pt !important;
        border-bottom: 2px solid #333 !important;
        padding-bottom: 10pt !important;
    }

    .print-date {
        display: block !important;
        text-align: right !important;
        font-size: 9pt !important;
        color: #666 !important;
        margin-top: 5pt !important;
    }

    .print-date::before {
        content: "Printed: " !important;
    }

    /* ========================================================================
       ALERT/WARNING BOXES FOR PRINT
       ======================================================================== */

    .critical-alert {
        background: white !important;
        border: 3px solid #000 !important;
        padding: 10pt !important;
        margin: 10pt 0 !important;
        page-break-inside: avoid !important;
    }

    .critical-alert::before {
        content: "âš  CRITICAL: " !important;
        font-weight: bold !important;
        font-size: 12pt !important;
    }

    /* ========================================================================
       LINKS
       ======================================================================== */

    a {
        color: #333 !important;
        text-decoration: underline !important;
    }

    a[href]::after {
        content: " (" attr(href) ")" !important;
        font-size: 8pt !important;
        color: #666 !important;
    }

    /* ========================================================================
       UTILITIES
       ======================================================================== */

    .print-only {
        display: block !important;
    }

    .no-print {
        display: none !important;
    }

    /* Hide empty elements */
    :empty {
        display: none !important;
    }

    /* ========================================================================
       SPECIFIC APP SECTIONS
       ======================================================================== */

    /* Dashboard Summary */
    #dashboard {
        page-break-after: always !important;
    }

    /* History Table - allow breaking across pages */
    #history table {
        page-break-inside: auto !important;
    }

    /* Analytics Charts - each chart on own page if needed */
    .analytics-subtab {
        page-break-before: always !important;
    }

    /* ========================================================================
       COLOR OVERRIDES FOR KEY INDICATORS
       ======================================================================== */

    .good, .status-good {
        color: #000 !important;
        border-color: #000 !important;
    }

    .warning, .status-warning {
        color: #000 !important;
        border: 2px dashed #000 !important;
    }

    .bad, .critical, .status-bad {
        color: #000 !important;
        border: 3px solid #000 !important;
        font-weight: bold !important;
    }

    /* ========================================================================
       FINAL TOUCHES
       ======================================================================== */

    /* Ensure proper spacing */
    * {
        margin: revert !important;
        padding: revert !important;
    }

    /* Container adjustments */
    .container {
        max-width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    /* Remove shadows and animations */
    * {
        box-shadow: none !important;
        animation: none !important;
        transition: none !important;
    }
}

/* ============================================================================
   PRINT PREVIEW MODE (for testing in browser)
   ============================================================================ */

body.print-preview {
    background: #f0f0f0 !important;
    padding: 20px !important;
}

body.print-preview .container {
    max-width: 8.5in !important;
    margin: 0 auto !important;
    background: white !important;
    box-shadow: 0 0 20px rgba(0,0,0,0.2) !important;
    padding: 0.5in !important;
}

/* End of Print Styles */
